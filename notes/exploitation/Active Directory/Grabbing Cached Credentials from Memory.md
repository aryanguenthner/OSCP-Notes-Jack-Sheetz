# Retreiving Credentials from Cached Memory
> Note: 
> SYSTEM or local admin is needed to access hashes stored in LSASS. Local privilege escalation is commonly needed before password hashes can be dumped


### Mimikatz
- mimikatz can either be used directly through Powershell or TaskManager can be used to dump LSASS memory and the data can be imported to Mimikatz
- ```/export```  option will save output to local disk
##### Pass Hashes
- always start with  ```privilege::debug```  to make sure that the account has the correct privs to dump from LSASS
- ```sekurlsa::logonpasswords``` is used to dump pass hashes for all users loged into current server, this includes RDP
##### Grabbing Tickets (Kerberoasting)
- ```sekurlsa::tickets``` grabs tickets of logged on user and any other users on the server
	- ```kerberos::list``` or ```klist``` will grab all tickets without needing admin privs if these are pulled to local disk they can be bruteforced bc they are encrypted with the SPN password hash
	- get the wordlist on kali -> ```apt update && apt install keberroast```
	- example kerberoast attack -> ```python /usr/share/kerberoast/tgsrepcrack.py wordlist.txt username@domain```
		- hashcat and john can do the same thing
- ***Invoke-Kerberoast.ps1 in PowershellEmpire will enumerate all SPN's, request a ticket for them, and then fomat them to be cracked in John/Hashcat***
- 